<html>
<head>
    <script src='/node_modules/falcor/dist/falcor.browser.js'></script>
    <script>
        //create model:
        var model = new falcor.Model({
            source: new falcor.HttpDataSource('/model.json')
        });
        //logging:
        var log = console.log.bind(console);
        var jlog = function(x) { document.write('<div>' + JSON.stringify(x, null, 3) + '</div>'); };
        var jconsole = function(x) { console.log(JSON.stringify(x, null, 3)); };
        var jerror = function(x) { console.error(JSON.stringify(x, null, 3)); };
        //examples:
        //model.get(['model','employeeById', [10001,10101], ['name', 'email']]).then(jconsole, jerror);
        //model.get(['model','officeById', 1001, 'officeManager', ['name','email']]).then(jconsole, jerror);
        //model.get(['model','employeeById', 10001, 'office', 'address']).then(jconsole, jerror);
        //model.get(["model","departmentById", 101, "budget"],["model","departmentById", 101, "departmentLead", "name"]).then(jconsole, jerror);
        //model.get(["model","departmentById", 101, "departmentLead", "name"],["model","employeeById", 10001,"name"]).then(jconsole, jerror);
        //model.get(["model","departmentById", 101, "name"]).then(jconsole);
        
        //NOTE: setters not yet implemented. This was just an example on how to call it
          // model.set({paths:["model","employeeById",101,"name"], jsonGraph:{
          //   json:{
          //     model:{
          //       departmentById:{
          //         101:{
          //           name:"Engineering"
          //         }
          //       }
          //     }
          //   }
          // },
          // invalidated:[["model","officeById","1001","employees"]]}).then(jlog, jerror);
    </script>
</head>
<body>
</body>
</html>
